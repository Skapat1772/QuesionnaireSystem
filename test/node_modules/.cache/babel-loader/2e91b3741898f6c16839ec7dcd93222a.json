{"remainingRequest":"D:\\project\\test\\node_modules\\thread-loader\\dist\\cjs.js!D:\\project\\test\\node_modules\\babel-loader\\lib\\index.js!D:\\project\\test\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!D:\\project\\test\\node_modules\\vue-loader-v16\\dist\\index.js??ref--1-1!D:\\project\\test\\src\\components\\UserCenter.vue?vue&type=script&lang=js","dependencies":[{"path":"D:\\project\\test\\src\\components\\UserCenter.vue","mtime":1719974502341},{"path":"D:\\project\\test\\babel.config.js","mtime":1719822089308},{"path":"D:\\project\\test\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1719822248067},{"path":"D:\\project\\test\\node_modules\\thread-loader\\dist\\cjs.js","mtime":1719822248036},{"path":"D:\\project\\test\\node_modules\\babel-loader\\lib\\index.js","mtime":1719822248392},{"path":"D:\\project\\test\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1719822248067},{"path":"D:\\project\\test\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1719822247099}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkucHVzaC5qcyI7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnVXNlckNlbnRlcicsCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHVzZXI6IHsKICAgICAgICB1c2VybmFtZTogJycsCiAgICAgICAgZW1haWw6ICcnCiAgICAgIH0sCiAgICAgIHNob3dNb2RhbDogZmFsc2UsCiAgICAgIG9sZFBhc3N3b3JkOiAnJywKICAgICAgbmV3UGFzc3dvcmQ6ICcnLAogICAgICBjb25maXJtTmV3UGFzc3dvcmQ6ICcnCiAgICB9OwogIH0sCiAgY3JlYXRlZCgpIHsKICAgIHRoaXMuZ2V0VXNlckluZm8oKTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGdldFVzZXJJbmZvKCkgewogICAgICBjb25zdCB1c2VyID0gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnY3VycmVudFVzZXInKSk7CiAgICAgIGlmICh1c2VyKSB7CiAgICAgICAgdGhpcy51c2VyLnVzZXJuYW1lID0gdXNlci51c2VybmFtZTsKICAgICAgICB0aGlzLnVzZXIuZW1haWwgPSB1c2VyLmVtYWlsOwogICAgICB9CiAgICB9LAogICAgY2hhbmdlUGFzc3dvcmQoKSB7CiAgICAgIGlmICh0aGlzLm5ld1Bhc3N3b3JkICE9PSB0aGlzLmNvbmZpcm1OZXdQYXNzd29yZCkgewogICAgICAgIGFsZXJ0KCfmlrDlr4bnoIHlkoznoa7orqTmlrDlr4bnoIHkuI3kuIDoh7QnKTsKICAgICAgICByZXR1cm47CiAgICAgIH0KICAgICAgY29uc3QgdXNlcnMgPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCd1c2VycycpKSB8fCBbXTsKICAgICAgY29uc3QgY3VycmVudFVzZXIgPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdjdXJyZW50VXNlcicpKTsKICAgICAgY29uc3QgdXNlciA9IHVzZXJzLmZpbmQodSA9PiB1LnVzZXJuYW1lID09PSBjdXJyZW50VXNlci51c2VybmFtZSB8fCB1LmVtYWlsID09PSBjdXJyZW50VXNlci5lbWFpbCk7CiAgICAgIGlmICghdXNlcikgewogICAgICAgIGFsZXJ0KCfnlKjmiLfkuI3lrZjlnKgnKTsKICAgICAgICByZXR1cm47CiAgICAgIH0KICAgICAgaWYgKHVzZXIucGFzc3dvcmQgIT09IHRoaXMub2xkUGFzc3dvcmQpIHsKICAgICAgICBhbGVydCgn5pen5a+G56CB6ZSZ6K+vJyk7CiAgICAgICAgcmV0dXJuOwogICAgICB9CiAgICAgIHVzZXIucGFzc3dvcmQgPSB0aGlzLm5ld1Bhc3N3b3JkOwogICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgndXNlcnMnLCBKU09OLnN0cmluZ2lmeSh1c2VycykpOwogICAgICBhbGVydCgn5a+G56CB5L+u5pS55oiQ5YqfJyk7CiAgICAgIHRoaXMuc2hvd01vZGFsID0gZmFsc2U7CiAgICB9LAogICAgZ29CYWNrKCkgewogICAgICB0aGlzLiRyb3V0ZXIucHVzaCgnL21haW4nKTsKICAgIH0KICB9Cn07"},{"version":3,"names":["name","data","user","username","email","showModal","oldPassword","newPassword","confirmNewPassword","created","getUserInfo","methods","JSON","parse","localStorage","getItem","changePassword","alert","users","currentUser","find","u","password","setItem","stringify","goBack","$router","push"],"sources":["D:\\project\\test\\src\\components\\UserCenter.vue"],"sourcesContent":["<template>\r\n    <div class=\"user-center\">\r\n        <h1>注册信息</h1>\r\n        <div class=\"user-info\">\r\n            <div class=\"info-item\">\r\n                <label>用户名:</label>\r\n                <span></span>\r\n            </div>\r\n            <div class=\"info-item\">\r\n                <label>邮件地址:</label>\r\n                <span></span>\r\n            </div>\r\n            <div class=\"info-item\" @click=\"showModal = true\">\r\n                <label>密码:</label>\r\n                <span class=\"modify-password\">修改密码</span>\r\n            </div>\r\n        </div>\r\n\r\n        <!-- 返回按钮 -->\r\n        <div class=\"back-button-container\">\r\n            <button class=\"back-button\" @click=\"goBack\">返回</button>\r\n        </div>\r\n\r\n        <!-- 弹窗组件 -->\r\n        <div class=\"modal\" v-if=\"showModal\">\r\n            <div class=\"modal-content\">\r\n                <span class=\"close\" @click=\"showModal = false\">&times;</span>\r\n                <h2>修改密码</h2>\r\n                <div class=\"form-group\" style=\"display: flex; align-items: center;\">\r\n                    <label>旧密码:</label>\r\n                    <input type=\"password\" v-model=\"oldPassword\">\r\n                </div>\r\n                <div class=\"form-group\" style=\"display: flex; align-items: center;\">\r\n                    <label>新密码:</label>\r\n                    <input type=\"password\" v-model=\"newPassword\">\r\n                </div>\r\n                <div class=\"form-group\" style=\"display: flex; align-items: center;\">\r\n                    <label>确认新密码:</label>\r\n                    <input type=\"password\" v-model=\"confirmNewPassword\">\r\n                </div>\r\n                <div class=\"button-group\">\r\n                    <button class=\"close-button\" @click=\"showModal = false\">关闭</button>\r\n                    <button class=\"confirm-button\" @click=\"changePassword\">确定</button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    export default {\r\n        name: 'UserCenter',\r\n        data() {\r\n            return {\r\n                user: {\r\n                    username: '',\r\n                    email: ''\r\n                },\r\n                showModal: false,\r\n                oldPassword: '',\r\n                newPassword: '',\r\n                confirmNewPassword: ''\r\n            };\r\n        },\r\n        created() {\r\n            this.getUserInfo();\r\n        },\r\n        methods: {\r\n            getUserInfo() {\r\n                const user = JSON.parse(localStorage.getItem('currentUser'));\r\n                if (user) {\r\n                    this.user.username = user.username;\r\n                    this.user.email = user.email;\r\n                }\r\n            },\r\n            changePassword() {\r\n                if (this.newPassword !== this.confirmNewPassword) {\r\n                    alert('新密码和确认新密码不一致');\r\n                    return;\r\n                }\r\n\r\n                const users = JSON.parse(localStorage.getItem('users')) || [];\r\n                const currentUser = JSON.parse(localStorage.getItem('currentUser'));\r\n                const user = users.find(u => u.username === currentUser.username || u.email === currentUser.email);\r\n\r\n                if (!user) {\r\n                    alert('用户不存在');\r\n                    return;\r\n                }\r\n\r\n                if (user.password !== this.oldPassword) {\r\n                    alert('旧密码错误');\r\n                    return;\r\n                }\r\n\r\n                user.password = this.newPassword;\r\n                localStorage.setItem('users', JSON.stringify(users));\r\n                alert('密码修改成功');\r\n                this.showModal = false;\r\n            },\r\n            goBack() {\r\n                this.$router.push('/main');\r\n            }\r\n        }\r\n    }\r\n</script>\r\n\r\n<style scoped>\r\n    .user-center {\r\n        padding: 20px;\r\n        background-color: #f9f9f9;\r\n        border-radius: 8px;\r\n        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);\r\n        max-width: 400px;\r\n        margin: 0 auto;\r\n    }\r\n\r\n    h1 {\r\n        font-size: 24px;\r\n        color: #333;\r\n        margin-bottom: 20px;\r\n    }\r\n\r\n    .user-info {\r\n        background-color: #fff;\r\n        padding: 20px;\r\n        border-radius: 8px;\r\n        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);\r\n    }\r\n\r\n    .info-item {\r\n        display: flex;\r\n        justify-content: space-between;\r\n        align-items: center;\r\n        margin-bottom: 15px;\r\n        font-size: 16px;\r\n        cursor: pointer;\r\n    }\r\n\r\n    label {\r\n        font-weight: bold;\r\n        color: #555;\r\n    }\r\n\r\n    span {\r\n        color: #333;\r\n    }\r\n\r\n    .modify-password {\r\n        color: blue;\r\n        text-decoration: underline;\r\n    }\r\n\r\n    .modal {\r\n        position: fixed;\r\n        top: 0;\r\n        left: 0;\r\n        width: 100%;\r\n        height: 100%;\r\n        background-color: rgba(0, 0, 0, 0.5);\r\n        display: flex;\r\n        justify-content: center;\r\n        align-items: center;\r\n    }\r\n\r\n    .modal-content {\r\n        background-color: #fff;\r\n        padding: 20px;\r\n        border-radius: 8px;\r\n        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);\r\n        width: 400px;\r\n        position: relative;\r\n    }\r\n\r\n    .close {\r\n        position: absolute;\r\n        top: 10px;\r\n        right: 10px;\r\n        cursor: pointer;\r\n        color: #555;\r\n        font-size: 20px;\r\n    }\r\n\r\n    .form-group {\r\n        margin-bottom: 15px;\r\n        display: flex;\r\n        align-items: center;\r\n    }\r\n\r\n        .form-group label {\r\n            display: block;\r\n            margin-right: 10px;\r\n            color: #555;\r\n            font-weight: bold;\r\n            min-width: 12px; /* 设置最小宽度 */\r\n        }\r\n\r\n        .form-group input {\r\n            flex: 1;\r\n            padding: 8px;\r\n            border: 1px solid #ccc;\r\n            border-radius: 4px;\r\n        }\r\n\r\n    .button-group {\r\n        display: flex;\r\n        justify-content: space-between;\r\n    }\r\n\r\n    .close-button, .confirm-button {\r\n        padding: 10px;\r\n        border: none;\r\n        border-radius: 4px;\r\n        cursor: pointer;\r\n        width: 48%;\r\n    }\r\n\r\n    .close-button {\r\n        background-color: #ccc;\r\n        color: #333;\r\n    }\r\n\r\n    .confirm-button {\r\n        background-color: #007bff;\r\n        color: #fff;\r\n    }\r\n\r\n    .close-button:hover {\r\n        background-color: #bbb;\r\n    }\r\n\r\n    .confirm-button:hover {\r\n        background-color: #0056b3;\r\n    }\r\n\r\n    .back-button-container {\r\n        margin-top: 20px;\r\n        display: flex;\r\n        justify-content: center;\r\n    }\r\n\r\n    .back-button {\r\n        padding: 10px 20px;\r\n        border: none;\r\n        border-radius: 4px;\r\n        cursor: pointer;\r\n        background-color: #007bff;\r\n        color: #fff;\r\n    }\r\n\r\n        .back-button:hover {\r\n            background-color: #0056b3;\r\n        }\r\n</style>\r\n"],"mappings":";AAkDI,eAAe;EACXA,IAAI,EAAE,YAAY;EAClBC,IAAIA,CAAA,EAAG;IACH,OAAO;MACHC,IAAI,EAAE;QACFC,QAAQ,EAAE,EAAE;QACZC,KAAK,EAAE;MACX,CAAC;MACDC,SAAS,EAAE,KAAK;MAChBC,WAAW,EAAE,EAAE;MACfC,WAAW,EAAE,EAAE;MACfC,kBAAkB,EAAE;IACxB,CAAC;EACL,CAAC;EACDC,OAAOA,CAAA,EAAG;IACN,IAAI,CAACC,WAAW,CAAC,CAAC;EACtB,CAAC;EACDC,OAAO,EAAE;IACLD,WAAWA,CAAA,EAAG;MACV,MAAMR,IAAG,GAAIU,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAAC,aAAa,CAAC,CAAC;MAC5D,IAAIb,IAAI,EAAE;QACN,IAAI,CAACA,IAAI,CAACC,QAAO,GAAID,IAAI,CAACC,QAAQ;QAClC,IAAI,CAACD,IAAI,CAACE,KAAI,GAAIF,IAAI,CAACE,KAAK;MAChC;IACJ,CAAC;IACDY,cAAcA,CAAA,EAAG;MACb,IAAI,IAAI,CAACT,WAAU,KAAM,IAAI,CAACC,kBAAkB,EAAE;QAC9CS,KAAK,CAAC,cAAc,CAAC;QACrB;MACJ;MAEA,MAAMC,KAAI,GAAIN,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,KAAK,EAAE;MAC7D,MAAMI,WAAU,GAAIP,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAAC,aAAa,CAAC,CAAC;MACnE,MAAMb,IAAG,GAAIgB,KAAK,CAACE,IAAI,CAACC,CAAA,IAAKA,CAAC,CAAClB,QAAO,KAAMgB,WAAW,CAAChB,QAAO,IAAKkB,CAAC,CAACjB,KAAI,KAAMe,WAAW,CAACf,KAAK,CAAC;MAElG,IAAI,CAACF,IAAI,EAAE;QACPe,KAAK,CAAC,OAAO,CAAC;QACd;MACJ;MAEA,IAAIf,IAAI,CAACoB,QAAO,KAAM,IAAI,CAAChB,WAAW,EAAE;QACpCW,KAAK,CAAC,OAAO,CAAC;QACd;MACJ;MAEAf,IAAI,CAACoB,QAAO,GAAI,IAAI,CAACf,WAAW;MAChCO,YAAY,CAACS,OAAO,CAAC,OAAO,EAAEX,IAAI,CAACY,SAAS,CAACN,KAAK,CAAC,CAAC;MACpDD,KAAK,CAAC,QAAQ,CAAC;MACf,IAAI,CAACZ,SAAQ,GAAI,KAAK;IAC1B,CAAC;IACDoB,MAAMA,CAAA,EAAG;MACL,IAAI,CAACC,OAAO,CAACC,IAAI,CAAC,OAAO,CAAC;IAC9B;EACJ;AACJ","ignoreList":[]}]}